{"remainingRequest":"D:\\Projects\\spark\\Spark.UI\\node_modules\\babel-loader\\lib\\index.js!D:\\Projects\\spark\\Spark.UI\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Projects\\spark\\Spark.UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projects\\spark\\Spark.UI\\src\\views\\ywgl\\bussiness\\bussinessInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Projects\\spark\\Spark.UI\\src\\views\\ywgl\\bussiness\\bussinessInfo.vue","mtime":1630551205896},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"D:/Projects/spark/Spark.UI/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.array.find\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.regexp.search\");\n\nvar _bussinessInfo = require(\"@/api/ywgl/bussinessInfo\");\n\nvar _index = _interopRequireDefault(require(\"@/components/OrgSelect/index2\"));\n\nvar _searchForm = _interopRequireDefault(require(\"@/components/Other/searchForm\"));\n\nvar _utils = require(\"@/utils\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'BussinessInfo',\n  components: {\n    OrgSelect2: _index.default,\n    SearchForm: _searchForm.default\n  },\n  data: function data() {\n    return {\n      list: [],\n      listLoading: false,\n      total: 0,\n      currentPage: 1,\n      pageSize: 10,\n      currentRow: null,\n      buttonLoading: false,\n      search: {\n        name: '',\n        orgIds: [],\n        number: '',\n        developer: '',\n        professionalType: null,\n        houseProperty: [],\n        informationSource: [],\n        progress: [],\n        marketCategory: null,\n        area: null,\n        cooperationMode: [],\n        dockPerson: null,\n        trackDepth: [],\n        isImportant: null,\n        reliableLevel: null,\n        trackLevel: null,\n        year: null,\n        state: null,\n        tenderEndMonth: null,\n        startDate: null,\n        marketingManager: '',\n        trackPerson: '',\n        formState: null,\n        tabId: 2\n      },\n      stateList: [],\n      tabPosition: 2,\n      orgList: null,\n      areaList: [],\n      // 区域\n      cooperationModeList: [],\n      // 合作模式\n      marketCategoryList: [],\n      professionalTypeList: [],\n      progressList: [],\n      trackDepthList: [],\n      informationSourceList: [],\n      housePropertyList: [],\n      developerList: [],\n      personList: [],\n      dockPersonList: [],\n      reliableLevelList: [],\n      trackLevelList: [],\n      traceLevelList: [],\n      importantTypeList: [],\n      projectStatusList: [],\n      // 立项状态\n      keyInformationSource: 0,\n      keyHouseProperty: 0\n    };\n  },\n  activated: function activated() {\n    if (this.$route.params.refresh) {\n      this.fetchData();\n    }\n  },\n  mounted: function mounted() {\n    this.initData();\n    this.fetchData();\n  },\n  methods: {\n    fetchData: function fetchData() {\n      var _this = this;\n\n      var postData = {};\n      postData = this.search;\n      postData.currentPage = this.currentPage;\n      postData.pageSize = this.pageSize;\n      this.listLoading = true;\n      (0, _bussinessInfo.getBussinessInfoPaging)(postData).then(function (response) {\n        var data = response.data,\n            count = response.count;\n        _this.list = data;\n        _this.total = count;\n        _this.listLoading = false;\n      }).catch(function () {\n        _this.listLoading = false;\n      });\n      this.listLoading = false;\n    },\n    initData: function initData() {\n      var _this2 = this;\n\n      new Promise(function (resolve, reject) {\n        (0, _bussinessInfo.getBussinessInfoEditInit)().then(function (response) {\n          var data = response.data,\n              orgList = response.orgList,\n              result1 = response.result1,\n              result2 = response.result2,\n              result3 = response.result3,\n              result4 = response.result4,\n              result5 = response.result5,\n              result6 = response.result6,\n              result7 = response.result7,\n              result8 = response.result8,\n              result9 = response.result9,\n              result10 = response.result10,\n              result11 = response.result11,\n              result12 = response.result12,\n              result13 = response.result13,\n              result14 = response.result14,\n              result15 = response.result15,\n              result16 = response.result16,\n              result17 = response.result17;\n          _this2.orgList = orgList;\n          _this2.cooperationModeList = result1;\n          _this2.marketCategoryList = result2;\n          _this2.professionalTypeList = result3;\n          _this2.progressList = result4;\n          _this2.tenderModeList = result5;\n          _this2.trackDepthList = result6;\n          result7.forEach(function (element) {\n            element.pid = element.pId;\n            element.label = element.name;\n          });\n          _this2.informationSourceList = (0, _utils.getTree)(0, result7);\n          result8.forEach(function (element) {\n            element.pid = element.pId;\n            element.label = element.name;\n          });\n          _this2.housePropertyList = (0, _utils.getTree)(0, result8);\n          _this2.developerList = result9;\n          _this2.personList = result10;\n          _this2.dockPersonList = result11;\n          _this2.importantTypeList = result12;\n          _this2.reliableLevelList = result13;\n          _this2.trackLevelList = result14;\n          _this2.traceLevelList = result15;\n          _this2.stateList = result16;\n          _this2.projectStatusList = result17;\n          data.forEach(function (element) {\n            element.label = element.name;\n          });\n          resolve(data);\n        });\n      }).then(function (treeData) {\n        _this2.areaList = treeData;\n      }).catch(function () {\n        _this2.$message.error('信息错误');\n      });\n    },\n    sizeChange: function sizeChange(val) {\n      this.pageSize = val;\n      this.fetchData();\n    },\n    radioChange: function radioChange(value) {\n      // 清空和切换条件\n      this.search = {\n        name: '',\n        orgIds: [],\n        number: '',\n        developer: '',\n        professionalType: null,\n        houseProperty: [],\n        informationSource: [],\n        progress: [],\n        marketCategory: null,\n        area: null,\n        cooperationMode: [],\n        dockPerson: null,\n        trackDepth: [],\n        isImportant: null,\n        reliableLevel: null,\n        trackLevel: null,\n        year: null,\n        state: null,\n        tenderEndMonth: null,\n        startDate: null,\n        marketingManager: '',\n        trackPerson: '',\n        formState: null,\n        tabId: value\n      };\n\n      if (value < 4) {\n        this.search.state = 0;\n      } else if (value === 5) {\n        this.search.state = 1;\n      } // 填充数据\n\n\n      this.fetchData();\n    },\n    goSearch: function goSearch() {\n      this.fetchData();\n    },\n    dialogClose: function dialogClose() {\n      this.dialogTableVisible = false;\n      this.fetchData();\n    },\n    getFormState: function getFormState(row) {\n      var state = row.formState;\n      var formState = this.stateList;\n      var obj = formState.find(function (f) {\n        return f.value === state;\n      });\n\n      if (obj) {\n        return obj.name;\n      } else {\n        return '状态不详';\n      }\n    },\n    handleAdd: function handleAdd() {\n      this.$router.push({\n        name: 'BussinessInfoEdit',\n        query: {\n          refreshRouterName: this.$route.name\n        }\n      });\n    },\n    handleEdit: function handleEdit(row) {\n      if (this.tabPosition === 0) {\n        this.$router.push({\n          name: 'BussinessInfoEdit',\n          query: {\n            id: row.id,\n            refreshRouterName: this.$route.name\n          },\n          params: {\n            id: row.id\n          }\n        });\n      } else if (this.tabPosition === 1) {\n        this.$router.push({\n          name: 'BussinessInfoAttitude',\n          query: {\n            id: row.id,\n            refreshRouterName: this.$route.name\n          },\n          params: {\n            id: row.id\n          }\n        });\n      }\n    },\n    handleReply: function handleReply(row) {\n      this.$router.push({\n        name: 'BussinessInfoReply',\n        query: {\n          id: row.id,\n          refreshRouterName: this.$route.name\n        },\n        params: {\n          id: row.id\n        }\n      });\n    },\n    handleDetail: function handleDetail(id) {\n      this.$router.push({\n        name: 'BussinessInfoDetail',\n        query: {\n          id: id,\n          refreshRouterName: this.$route.name\n        },\n        params: {\n          id: id\n        }\n      });\n    },\n    getMoneyFormat: function getMoneyFormat(val) {\n      if (val != null) {\n        return this.utils.formatMoney(val, 2);\n      }\n    }\n  }\n};\nexports.default = _default;",null]}