{"remainingRequest":"D:\\Projects\\spark\\Spark.UI\\node_modules\\babel-loader\\lib\\index.js!D:\\Projects\\spark\\Spark.UI\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Projects\\spark\\Spark.UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projects\\spark\\Spark.UI\\src\\views\\xtgl\\jcsj\\organizationDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Projects\\spark\\Spark.UI\\src\\views\\xtgl\\jcsj\\organizationDetails.vue","mtime":1634606967270},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"D:/Projects/spark/Spark.UI/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.function.name\");\n\nvar _ProjectSettle = require(\"@/api/xmgl/ProjectSettle.js\");\n\nvar _TableEx = _interopRequireDefault(require(\"@/components/TableEx\"));\n\nvar _Detailsedit = _interopRequireDefault(require(\"@/components/Detailsedit\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'OrganizationDetails',\n  components: {\n    TableEx: _TableEx.default,\n    Detailsedit: _Detailsedit.default\n  },\n  props: {\n    obj: {\n      type: Object,\n      default: null\n    }\n  },\n  data: function data() {\n    return {\n      size: 'mini',\n      myDetails: {},\n      // 详情数据\n      activeName: '1',\n      filter: {\n        year: new Date().getFullYear()\n      },\n\n      /* 列表数据相关 */\n      table: {\n        columns: [{\n          label: '单据号',\n          // 表头\n          prop: 'number',\n          // 渲染的属性\n          minWidth: '120' // 最小宽度\n\n        }, {\n          label: '摘要',\n          prop: 'summary',\n          minWidth: '120'\n        }, {\n          label: '备注',\n          prop: 'remark',\n          minWidth: '120'\n        }, {\n          label: '部门',\n          prop: 'orgName',\n          minWidth: '120'\n        }, {\n          label: '类别',\n          // 表头\n          prop: 'type',\n          // 渲染的属性\n          format: function format(val) {\n            return val || '';\n          },\n          minWidth: '85' // 最小宽度\n\n        }, {\n          label: '支付日期',\n          // 表头\n          prop: 'payoutDate',\n          // 渲染的属性\n          format: 'date',\n          minWidth: '120' // 最小宽度\n\n        }, {\n          label: '金额',\n          prop: 'amount',\n          format: 'money',\n          minWidth: '120',\n          align: 'right'\n        }, {\n          business: 'createUser' // 业务部分的快捷使用参考 src\\components\\TableEx\\Column\\businessList.js\n\n        }],\n        list: [],\n        loading: false\n      }\n    };\n  },\n  beforeRouteEnter: function beforeRouteEnter(to, from, next) {\n    next(function (vm) {\n      vm.fetchData();\n    });\n  },\n  computed: {\n    year: {\n      get: function get() {\n        return \"\".concat(this.filter.year, \"-00-00\");\n      },\n      set: function set(val) {\n        this.filter.year = val;\n      }\n    },\n\n    /**\r\n     * 详情各字段计算\r\n     */\n    infoList: function infoList() {\n      var _this$myDetails$data = this.myDetails.data,\n          name = _this$myDetails$data.name,\n          isProject = _this$myDetails$data.isProject,\n          categoryId = _this$myDetails$data.categoryId,\n          inUse = _this$myDetails$data.inUse;\n      return [{\n        label: '名称',\n        value: name\n      }, {\n        label: '类别',\n        value: categoryId\n      }, {\n        label: '是否项目',\n        value: isProject ? '是' : '否'\n      }, {\n        label: '是否使用',\n        value: inUse ? '是' : '否'\n      }];\n    }\n  },\n  methods: {\n    fetchData: function fetchData() {\n      var _this = this;\n\n      var _this$$route$query = this.$route.query,\n          id = _this$$route$query.id,\n          year = _this$$route$query.year;\n      this.myId = id;\n      (0, _ProjectSettle.GetImprestListByPersonId)({\n        id: 1,\n        year: year\n      }).then(function (res) {\n        _this.myDetails = res;\n        _this.table.list = res.data;\n        console.log(_this.table.list);\n      });\n\n      if (this.obj) {\n        var newObj = JSON.parse(JSON.stringify(this.obj));\n        this.infoList = newObj;\n      }\n    }\n  }\n};\nexports.default = _default;",null]}