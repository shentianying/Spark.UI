{"remainingRequest":"D:\\Projects\\spark\\Spark.UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projects\\spark\\Spark.UI\\src\\views\\cggl\\invoice\\invoiceEdit.vue?vue&type=template&id=d74f7a6e&scoped=true&","dependencies":[{"path":"D:\\Projects\\spark\\Spark.UI\\src\\views\\cggl\\invoice\\invoiceEdit.vue","mtime":1635216068732},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"app-container\">\n  <div v-show=\"active===0\">\n    <el-form\n      ref=\"ruleForm\"\n      status-icon\n      :model=\"ruleForm\"\n      :rules=\"rules\"\n      label-width=\"120px\"\n      class=\"\"\n      size=\"mini\"\n    >\n      <el-row :gutter=\"10\">\n        <el-col :sm=\"12\" :xs=\"24\">\n          <el-form-item label=\"编号\" prop=\"number\">\n            <el-input v-model=\"ruleForm.number\" readonly=\"readonly\" placeholder=\"自动生成\" size=\"mini\" maxlength=\"50\" />\n          </el-form-item>\n\n          <el-form-item\n            v-if=\"activate\"\n            label=\"项目\"\n            prop=\"orgId\"\n          >\n            <org-select2\n              v-model=\"ruleForm.orgId\"\n              :data-mode=\"0\"\n              size=\"mini\"\n              :collapse-tags=\"false\"\n              :show-all-levels=\"true\"\n              :clearable=\"false\"\n              :multiple=\"false\"\n              :filterable=\"true\"\n              :check-strictly=\"false\"\n              :select-data=\"ruleForm.orgId\"\n              select-style=\"width:100%;\"\n            />\n          </el-form-item>\n\n          <el-form-item label=\"合同号\" prop=\"contractIdAndsupplierId\">\n            <el-select v-model=\"contractIdAndsupplierId\" size=\"mini\" placeholder=\"选择合同\" style=\"width:100%\" @change=\"selectContract\">\n              <el-option v-for=\"(item1,index1) in contractList\" :key=\"index1\" :label=\"item1.contractNumber+'-'+item1.supplierName\" :value=\"item1.contractId+'|'+item1.supplierId\" />\n            </el-select>\n          </el-form-item>\n\n          <!-- <el-form-item label=\"供应商\" prop=\"supplierId\">\n            <el-select v-model=\"ruleForm.supplierId\" disabled style=\"width:100%\">\n              <el-option v-for=\"(item2,index2) in supplierList\" :key=\"index2\" :label=\"item2.name\" :value=\"item2.id\" />\n            </el-select>\n          </el-form-item> -->\n\n          <el-form-item label=\"附件\">\n            <up-file v-if=\"ruleForm.fileList\" v-model=\"ruleForm.fileList\" :is-preview=\"true\" :is-upfile=\"true\" :is-delete=\"true\" :file-list=\"ruleForm.fileList\" />\n          </el-form-item>\n\n        </el-col>\n        <el-col :sm=\"12\" :xs=\"24\">\n          <el-form-item label=\"发票类型\" prop=\"type\">\n            <el-select v-model=\"ruleForm.type\" style=\"width:100%\">\n              <el-option v-for=\"(item,index) in invoiceTypes\" :key=\"index\" :label=\"item.name\" :value=\"item.value\" />\n            </el-select>\n          </el-form-item>\n          <!-- <el-form-item label=\"发票名称\" prop=\"name\">\n            <el-input v-model=\"ruleForm.name\" placeholder=\"\" size=\"mini\" maxlength=\"50\" />\n          </el-form-item> -->\n\n          <el-form-item label=\"发票号码\" prop=\"invoiceNumber\">\n            <el-input v-model=\"ruleForm.invoiceNumber\" placeholder=\"\" size=\"mini\" maxlength=\"50\" />\n          </el-form-item>\n          <el-form-item label=\"开票日期\" prop=\"invoicingDate\">\n            <el-date-picker\n              v-model=\"ruleForm.invoicingDate\"\n              type=\"date\"\n              value-format=\"yyyy-MM-dd\"\n              placeholder=\"请选择\"\n              style=\"width:100%\"\n              size=\"mini\"\n            />\n          </el-form-item>\n          <el-form-item label=\"开票金额(含税)\" prop=\"amount\">\n            <el-input-number v-model.number=\"ruleForm.amount\" :precision=\"2\" :controls=\"false\" :min=\"0\" :max=\"100000000\" />元\n          </el-form-item>\n\n          <el-form-item label=\"备注\" prop=\"remark\">\n            <el-input v-model=\"ruleForm.remark\" type=\"textarea\" :rows=\"3\" size=\"mini\" maxlength=\"500\" />\n          </el-form-item>\n        </el-col>\n      </el-row>\n    </el-form>\n\n    <p style=\" text-align: right\">\n      已选金额：<el-input-number v-model=\"total\" :disabled=\"true\" size=\"mini\" :precision=\"2\" :controls=\"false\" :min=\"0\" :max=\"100000000\" />元（以后台处理数据为准）\n      <el-button v-if=\"ruleForm.orgId&&ruleForm.contractId\" size=\"mini\" type=\"primary\" :loading=\"loading\" @click=\"selectStorageDetail()\">选择入库明细</el-button>\n    </p>\n    <el-table\n      ref=\"multipleTable2\"\n      v-loading=\"loading\"\n      :data=\"list2\"\n      border\n      size=\"mini\"\n      :span-method=\"objectSpanMethod2\"\n    >\n      <!-- <el-table-column label=\"物品编号\" align=\"center\" width=\"80\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.id }}\n        </template>\n      </el-table-column> -->\n      <el-table-column label=\"入库单号\" align=\"center\" width=\"140\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.storageIn.number }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"入库时间\" align=\"center\" min-width=\"100\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.storageIn.entryDate | dateFormat }}\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"入库明细id\" align=\"center\" width=\"140\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.id }}\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"材料名称\" align=\"center\" min-width=\"100\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.material.materialCategory.name }}\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"品牌/产地\" align=\"center\" min-width=\"100\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.material.brand }}\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"型号\" align=\"center\" min-width=\"100\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.material.model }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"规格尺寸\" align=\"center\" min-width=\"100\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.material.spec }}\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"厚度\" align=\"center\" min-width=\"100\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.material.thickness }}\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"材质\" align=\"center\" min-width=\"100\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.material.texture }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"表面处理/工艺、色号\" align=\"center\" width=\"150\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.material.surfaceTreatment }}\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"主单位\" align=\"center\" width=\"60\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.material.materialCategory.unit }}\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"主数量\" align=\"center\" width=\"60\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.quantity }}\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"辅单位\" align=\"center\" width=\"60\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.material.unit2 }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"辅数量\" align=\"center\" width=\"60\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.quantity2 }}\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"含税金额\" header-align=\"center\" align=\"right\" min-width=\"100\">\n        <template slot-scope=\"scope\">\n          <b>{{ scope.row.taxInclusiveAmount.toFixed(2) }}</b>\n        </template>\n      </el-table-column>\n\n      <!-- <el-table-column label=\"是否开票\" align=\"center\" width=\"100\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.invoiceId === 0? '未开':'已开' }}\n        </template>\n      </el-table-column> -->\n\n      <el-table-column label=\"操作\" align=\"center\" width=\"80\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"mini\" @click=\"removeStorage(scope)\">移除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- 材料分类数据 -->\n\n    <div style=\"text-align:center; margin-top:15px;\">\n      <el-button size=\"mini\" type=\"success\" :loading=\"loading\" @click=\"getDynamicFlow()\">下一步➜</el-button>\n    </div>\n\n  </div>\n\n  <!--流程显示-->\n  <div v-show=\"active===1\">\n    <flow-select v-if=\"billFlow\" ref=\"flowSelect\" :bill-flow=\"billFlow\" />\n    <div style=\"text-align:center;margin-top:10px;\">\n      <el-button v-if=\"ruleForm.id>0 && ruleForm.state === 0\" size=\"mini\" type=\"warning\" :loading=\"loading\" @click=\"cancel()\">作废</el-button>\n      <el-button v-if=\"ruleForm.state === 0\" size=\"mini\" type=\"primary\" :loading=\"loading\" @click=\"submitForm(1)\">提交</el-button>\n      <el-button v-if=\"ruleForm.state === 0\" size=\"mini\" type=\"success\" :loading=\"loading\" @click=\"submitForm(0)\">保存</el-button>\n      <el-button v-if=\"ruleForm.state === 0\" size=\"mini\" type=\"success\" :loading=\"loading\" @click=\"previous()\">上一步</el-button>\n    </div>\n  </div>\n\n  <div v-if=\"dialogTableVisible\">\n    <el-dialog\n      title=\"选择明细入库\"\n      :destroy-on-close=\"true\"\n      :visible.sync=\"dialogTableVisible\"\n      width=\"90%\"\n      :append-to-body=\"false\"\n    >\n      <el-row style=\"margin:10px;\">\n        <el-col :span=\"24\" style=\"text-align:left;\">\n          已选金额：<el-input-number v-model=\"total\" :disabled=\"true\" size=\"mini\" :precision=\"2\" :controls=\"false\" :min=\"0\" :max=\"100000000\" />元（以后台处理数据为准）\n        </el-col>\n      </el-row>\n\n      <el-table\n        ref=\"multipleTable\"\n        v-loading=\"loading\"\n        :data=\"list\"\n        row-key=\"id\"\n        element-loading-text=\"Loading\"\n        border\n        size=\"mini\"\n        style=\"width:100%\"\n        :span-method=\"objectSpanMethod\"\n        @selection-change=\"handleSelectionChange\"\n      >\n        <el-table-column\n          type=\"selection\"\n          width=\"55\"\n        />\n        <!-- <el-table-column label=\"物品编号\" align=\"center\" width=\"80\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.id }}\n          </template>\n        </el-table-column> -->\n        <el-table-column label=\"入库单号\" align=\"center\" width=\"140\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.storageIn.number }}\n          </template>\n        </el-table-column>\n\n        <el-table-column label=\"入库时间\" align=\"center\" min-width=\"100\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.storageIn.entryDate | dateFormat }}\n          </template>\n        </el-table-column>\n\n        <el-table-column label=\"入库明细id\" align=\"center\" width=\"100\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.id }}\n          </template>\n        </el-table-column>\n\n        <el-table-column label=\"材料名称\" align=\"center\" min-width=\"100\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.material.materialCategory.name }}\n          </template>\n        </el-table-column>\n\n        <el-table-column label=\"品牌/产地\" align=\"center\" min-width=\"100\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.material.brand }}\n          </template>\n        </el-table-column>\n\n        <el-table-column label=\"型号\" align=\"center\" min-width=\"100\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.material.model }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"规格尺寸\" align=\"center\" min-width=\"100\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.material.spec }}\n          </template>\n        </el-table-column>\n\n        <el-table-column label=\"厚度\" align=\"center\" min-width=\"100\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.material.thickness }}\n          </template>\n        </el-table-column>\n\n        <el-table-column label=\"材质\" align=\"center\" min-width=\"100\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.material.texture }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"表面处理/工艺、色号\" align=\"center\" width=\"150\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.material.surfaceTreatment }}\n          </template>\n        </el-table-column>\n\n        <el-table-column label=\"主单位\" align=\"center\" width=\"60\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.material.materialCategory.unit }}\n          </template>\n        </el-table-column>\n\n        <el-table-column label=\"主数量\" align=\"center\" width=\"60\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.quantity }}\n          </template>\n        </el-table-column>\n\n        <el-table-column label=\"辅单位\" align=\"center\" width=\"60\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.material.unit2 }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"辅数量\" align=\"center\" width=\"60\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.quantity2 }}\n          </template>\n        </el-table-column>\n\n        <el-table-column label=\"含税金额\" header-align=\"center\" align=\"right\" min-width=\"100\">\n          <template slot-scope=\"scope\">\n            <b>{{ scope.row.taxInclusiveAmount.toFixed(2) }}</b>\n          </template>\n        </el-table-column>\n\n        <!-- <el-table-column label=\"是否开票\" align=\"center\" width=\"100\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.invoiceId === 0? '未开':'已开' }}\n          </template>\n        </el-table-column> -->\n\n        <!-- <el-table-column label=\"操作\" align=\"center\" width=\"100\">\n          <template slot-scope=\"scope\">\n            <el-button size=\"mini\" @click=\"selectStorage(scope) \">选择</el-button>\n          </template>\n        </el-table-column> -->\n      </el-table>\n      <div style=\"text-align:center;margin:10px 0;\">\n        <el-pagination\n          background\n          :hide-on-single-page=\"false\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"pageTotal\"\n          :current-page.sync=\"currentPage\"\n          :page-size=\"pageSize\"\n          @current-change=\"getStorageInDetailList\"\n          @size-change=\"sizeChange\"\n        />\n      </div>\n      <p style=\"text-align:right\">\n        <el-button size=\"mini\" type=\"success\" @click=\"sureSelected\">确定</el-button>\n      </p>\n    </el-dialog>\n  </div>\n\n</div>\n",null]}