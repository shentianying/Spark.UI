{"remainingRequest":"D:\\Projects\\spark\\Spark.UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projects\\spark\\Spark.UI\\src\\components\\FlowRemake\\flowDisplay.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Projects\\spark\\Spark.UI\\src\\components\\FlowRemake\\flowDisplay.vue","mtime":1631670623789},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\n/**\r\n * 流程进度组件重做,\r\n * 逻辑,流程完全一样,只是排版和样式修改\r\n * 还有把折叠面板去掉了\r\n * 去除了编辑功能,该组件只做展示,编辑用另一个组件\r\n */\r\nimport parentComponent from '@/components/Flow/flowDisplay.vue'\r\nexport default {\r\n  name: 'FlowDisplay',\r\n  mixins: [parentComponent],\r\n  watch: {\r\n    /**\r\n     * 写这个是为了使得页面没有关闭从新打开另一个单子详情的时候审批组件的内容会刷新\r\n     */\r\n    billFlow() {\r\n      this.fetchData()\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * 这个方法要重写,\r\n     * 因为原来那个不符合现在的页面逻辑,\r\n     * 在已有页面不关闭的情况下,再次进入会在原来基础上增加\r\n     * 所以现在采用每次都新拼接一个再反向覆盖的方式\r\n     */\r\n    fetchData() {\r\n      const { form: { formState }, billFlowNode } = this.utils.easyDeepClone(this.billFlow)\r\n      const newList = []\r\n      formState.forEach((e, i) => {\r\n        if (e.isFlowNode) {\r\n          if (e.isCheckup) {\r\n            e.stateNode = this.groupBy(billFlowNode.filter(f => f.state === e.value), item => [item.group])\r\n          }\r\n          newList.push(e)\r\n        }\r\n      })\r\n      this.stateList = newList\r\n    }\r\n  }\r\n}\r\n",null]}