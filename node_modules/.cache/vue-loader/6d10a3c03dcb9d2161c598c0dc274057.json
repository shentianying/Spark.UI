{"remainingRequest":"D:\\Projects\\spark\\Spark.UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projects\\spark\\Spark.UI\\src\\views\\cggl\\quotation\\quotationEdit.vue?vue&type=template&id=0adcd147&scoped=true&","dependencies":[{"path":"D:\\Projects\\spark\\Spark.UI\\src\\views\\cggl\\quotation\\quotationEdit.vue","mtime":1628756195067},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"app-container\">\n  <el-form\n    ref=\"ruleForm\"\n    status-icon\n    :model=\"ruleForm\"\n    :rules=\"rules\"\n    label-width=\"120px\"\n    class=\"\"\n    size=\"mini\"\n  >\n    <el-form-item align=\"right\">\n      <el-button v-if=\"canSubmit===false\" type=\"success\" :loading=\"loading\" @click=\"submitForm('ruleForm',0)\">保存</el-button>\n      <el-button v-else-if=\"canSubmit===true\" type=\"success\" :loading=\"loading\" @click=\"attitude()\">提交</el-button>\n      <!-- <el-button type=\"primary\" :loading=\"loading\" @click=\"submitForm('ruleForm',-1)\">提交</el-button> -->\n      <!-- <el-button type=\"danger\" :loading=\"loading\" @click=\"closeThePage\"><i class=\"el-icon-close\" /></el-button> -->\n    </el-form-item>\n    <el-row :gutter=\"10\">\n      <el-col :sm=\"12\" :xs=\"24\">\n        <el-form-item label=\"编号\" prop=\"number\">\n          <el-input v-model=\"ruleForm.number\" :disabled=\"true\" placeholder=\"自动生成\" size=\"mini\" maxlength=\"50\" />\n        </el-form-item>\n        <el-form-item label=\"项目\" prop=\"orgId\">\n          <org-select2\n            :key=\"orgKey\"\n            v-model=\"ruleForm.orgId\"\n            :data-mode=\"0\"\n            :disabled=\"true\"\n            size=\"mini\"\n            :collapse-tags=\"false\"\n            :show-all-levels=\"true\"\n            :multiple=\"false\"\n            :filterable=\"true\"\n            :check-strictly=\"false\"\n            :select-data=\"ruleForm.orgId\"\n            select-style=\"width:100%;\"\n          />\n        </el-form-item>\n      </el-col>\n      <el-col :sm=\"12\" :xs=\"24\">\n        <el-form-item label=\"使用部位及用途\" prop=\"useSpace\">\n          <el-input v-model=\"ruleForm.useSpace\" :disabled=\"disabled\" placeholder=\"请输入\" size=\"mini\" maxlength=\"50\" />\n        </el-form-item>\n        <el-form-item label=\"采购执行人\" prop=\"executeUserId\">\n          <el-select\n            v-model=\"ruleForm.executeUserId\"\n            :filter-method=\"getRemotePerson\"\n            :disabled=\"disabled\"\n            size=\"mini\"\n            filterable\n            remote\n            reserve-keyword\n            clearable\n            placeholder=\"请选择\"\n            :loading=\"loading\"\n            style=\"width:100%;\"\n          >\n            <el-option\n              v-for=\"(item,index) in personList\"\n              :key=\"index\"\n              :label=\"item.name\"\n              :value=\"item.id\"\n            >\n              <span>{{ getOrgName(item.organizationId) }}-{{ item.name }}</span>\n              <!-- getOrgList.find(f=>f.id===item.organizationId).name -->\n            </el-option>\n          </el-select>\n        </el-form-item>\n      </el-col>\n      <el-col :sm=\"12\" :xs=\"24\">\n        <el-form-item label=\"价格执行期\" prop=\"executeStartDate\">\n          <el-col :span=\"11\">\n            <el-date-picker v-model=\"ruleForm.executeStartDate\" :disabled=\"disabled\" type=\"date\" placeholder=\"请选择\" style=\"width: 100%;\" />\n          </el-col>\n          <el-col class=\"line\" :span=\"2\">→</el-col>\n          <el-col :span=\"11\">\n            <el-date-picker v-model=\"ruleForm.executeEndDate\" :disabled=\"disabled\" type=\"date\" placeholder=\"请选择\" style=\"width: 100%;\" />\n          </el-col>\n        </el-form-item>\n        <el-form-item label=\"任务单\" prop=\"taskNumber\">\n          <el-input v-model=\"ruleForm.taskNumber\" :disabled=\"true\" placeholder=\"请选择\" size=\"mini\" maxlength=\"50\">\n            <el-button slot=\"append\" :disabled=\"disabled\" icon=\"el-icon-search\" @click=\"checkTask()\" />\n          </el-input>\n          <!-- <el-link :underline=\"false\" @click=\"openTask(ruleForm.taskId)\">{{ ruleForm.taskNumber }}</el-link>\n          <el-button size=\"mini\" type=\"success\" :loading=\"loading\" @click=\"checkTask()\">选择</el-button> -->\n        </el-form-item>\n        <el-form-item label=\"报价截止日期\" prop=\"deadline\">\n          <el-date-picker v-model=\"ruleForm.deadline\" :disabled=\"disabled\" type=\"date\" placeholder=\"请选择\" style=\"width: 100%;\" />\n        </el-form-item>\n      </el-col>\n      <el-col :sm=\"12\" :xs=\"24\">\n        <el-form-item label=\"备注\" prop=\"remark\">\n          <el-input v-model=\"ruleForm.remark\" :disabled=\"disabled\" type=\"textarea\" :rows=\"4\" size=\"mini\" maxlength=\"500\" />\n        </el-form-item>\n        <el-form-item label=\"报价轮次\" prop=\"times\">\n          <el-input v-model=\"ruleForm.times\" :disabled=\"true\" type=\"number\" style=\"width: 100%;\" />\n        </el-form-item>\n      </el-col>\n      <!-- <el-col :sm=\"12\" :xs=\"24\">\n        <el-form-item label=\"附件\">\n          <up-file v-if=\"ruleForm.fileList\" key=\"fileListKey\" v-model=\"ruleForm.fileList\" :is-preview=\"true\" :is-upfile=\"true\" :is-delete=\"true\" :file-list=\"ruleForm.fileList\" />\n        </el-form-item>\n      </el-col> -->\n    </el-row>\n  </el-form>\n\n  <div v-if=\"ruleForm.times > 1\" class=\"flex_div\">\n    <el-table\n      v-loading=\"loading\"\n      :data=\"quotationList\"\n      element-loading-text=\"Loading\"\n      border\n      fit\n      highlight-current-row\n      size=\"mini\"\n    >\n      <!-- <el-table-column type=\"index\" width=\"55\" align=\"center\" /> -->\n      <el-table-column label=\"编号\" align=\"center\" min-width=\"100\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.number }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"使用项目\" align=\"center\" width=\"100\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.organization.name }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"价格执行期\" align=\"center\" width=\"250\">\n        <template slot-scope=\"scope\">\n          <div v-if=\"scope.row.executeStartDate\">\n            {{ scope.row.executeStartDate | dateFormat }} → {{ scope.row.executeEndDate | dateFormat }}\n          </div>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"使用部位及用途\" align=\"center\" width=\"150\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.useSpace }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"报价轮次\" align=\"center\" width=\"100\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.times }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"备注\" align=\"center\" min-width=\"200\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.remark }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" align=\"center\" min-width=\"200\">\n        <template slot-scope=\"scope\">\n          <el-tooltip content=\"查看\" effect=\"light\" placement=\"left-start\" :enterable=\"true\">\n            <el-button size=\"mini\" class=\"el-icon-edit-outline\" plain circle @click=\"detail(scope.row)\" />\n          </el-tooltip>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n\n  <el-table\n    v-loading=\"loading\"\n    :data=\"list\"\n    element-loading-text=\"Loading\"\n    border\n    fit\n    highlight-current-row\n    size=\"mini\"\n  >\n    <!-- <el-table-column type=\"index\" width=\"55\" align=\"center\" /> -->\n    <el-table-column label=\"材料名称\" align=\"center\" min-width=\"100\">\n      <template slot-scope=\"scope\">\n        {{ scope.row.category.name }}\n      </template>\n    </el-table-column>\n    <el-table-column v-if=\"columnShow.brand\" label=\"品牌/产地\" align=\"center\" width=\"80\">\n      <template slot-scope=\"scope\">\n        {{ scope.row.brand }}\n      </template>\n    </el-table-column>\n    <el-table-column v-if=\"columnShow.model\" label=\"型号\" align=\"center\" width=\"80\">\n      <template slot-scope=\"scope\">\n        {{ scope.row.model }}\n      </template>\n    </el-table-column>\n    <el-table-column v-if=\"columnShow.spec\" label=\"规格/尺寸\" align=\"center\" width=\"100\">\n      <template slot-scope=\"scope\">\n        {{ scope.row.spec }}\n      </template>\n    </el-table-column>\n    <el-table-column v-if=\"columnShow.thickness\" label=\"厚度\" align=\"center\" width=\"80\">\n      <template slot-scope=\"scope\">\n        {{ scope.row.thickness }}\n      </template>\n    </el-table-column>\n    <el-table-column v-if=\"columnShow.texture\" label=\"材质\" align=\"center\" width=\"100\">\n      <template slot-scope=\"scope\">\n        {{ scope.row.texture }}\n      </template>\n    </el-table-column>\n    <el-table-column v-if=\"columnShow.surfaceTreatment\" label=\"表面处理/工艺、色号\" align=\"center\" width=\"200\">\n      <template slot-scope=\"scope\">\n        {{ scope.row.surfaceTreatment }}\n      </template>\n    </el-table-column>\n    <el-table-column v-if=\"columnShow.designNumber\" label=\"设计编号\" align=\"center\" width=\"100\">\n      <template slot-scope=\"scope\">\n        {{ scope.row.designNumber }}\n      </template>\n    </el-table-column>\n    <el-table-column label=\"主单位\" align=\"center\" width=\"60\">\n      <template slot-scope=\"scope\">\n        {{ scope.row.category.unit }}\n      </template>\n    </el-table-column>\n    <el-table-column label=\"主数量\" align=\"center\" width=\"80\">\n      <template slot-scope=\"scope\">\n        {{ scope.row.applicationQuantity }}\n      </template>\n    </el-table-column>\n    <el-table-column v-if=\"columnShow.unit2\" label=\"辅单位\" align=\"center\" width=\"60\">\n      <template slot-scope=\"scope\">\n        {{ scope.row.unit2 }}\n      </template>\n    </el-table-column>\n    <el-table-column v-if=\"columnShow.unit2\" label=\"辅数量\" align=\"center\" width=\"80\">\n      <template slot-scope=\"scope\">\n        {{ scope.row.applicationQuantity2 }}\n      </template>\n    </el-table-column>\n    <!-- <el-table-column label=\"进场日期\" align=\"center\" width=\"100\">\n      <template slot-scope=\"scope\">\n        {{ scope.row.entryDate | dateFormat }}\n      </template>\n    </el-table-column> -->\n    <el-table-column label=\"备注\" align=\"center\" min-width=\"200\">\n      <template slot-scope=\"scope\">\n        <!-- {{ scope.row.remark }} -->\n        <el-input v-model=\"scope.row.remark\" :disabled=\"disabled\" placeholder=\"请输入\" size=\"mini\" maxlength=\"200\" />\n      </template>\n    </el-table-column>\n  </el-table>\n  <div v-if=\"id\">\n    <div class=\"flex_div\">\n      <el-button :loading=\"loading\" size=\"mini\" @click=\"addSupplier()\">增加参标单位</el-button>\n      <el-button :loading=\"loading\" type=\"success\" size=\"mini\" @click=\"send()\">发送</el-button>\n    </div>\n    <el-table\n      v-loading=\"loading\"\n      :data=\"suppliers\"\n      element-loading-text=\"Loading\"\n      border\n      fit\n      highlight-current-row\n      size=\"mini\"\n    >\n      <el-table-column align=\"center\" label=\"编号\" :show-overflow-tooltip=\"true\" min-width=\"10\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.supplier.number }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"名称\" :show-overflow-tooltip=\"true\" min-width=\"10\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.supplier.name }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"主营\" min-width=\"10\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.supplier.mainBusiness }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"地址\" min-width=\"10\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.supplier.address }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"公司电话\" min-width=\"10\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.supplier.companyPhone }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"联系人\" min-width=\"10\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.supplier.contacts }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"联系人电话\" min-width=\"10\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.supplier.contactsPhone }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"星级\" min-width=\"10\">\n        <template slot-scope=\"scope\">\n          {{ getSupplierRate(scope.row.supplier.rate) }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"填报方式\" min-width=\"10\">\n        <template slot-scope=\"scope\">\n          <org-select2\n            v-if=\"scope.row.state===0\"\n            :key=\"keyFillMode\"\n            v-model=\"scope.row.fillMode\"\n            size=\"mini\"\n            :collapse-tags=\"false\"\n            props-value=\"value\"\n            :show-all-levels=\"false\"\n            :multiple=\"false\"\n            :filterable=\"true\"\n            :options=\"fillModeOptions\"\n          />\n          <org-select2\n            v-else\n            :key=\"keyFillMode\"\n            v-model=\"scope.row.fillMode\"\n            :disabled=\"true\"\n            size=\"mini\"\n            :collapse-tags=\"false\"\n            props-value=\"value\"\n            :show-all-levels=\"false\"\n            :multiple=\"false\"\n            :filterable=\"true\"\n            :options=\"fillModeOptions\"\n          />\n          <!-- {{ scope.row.fillMode }} -->\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"状态\" min-width=\"10\">\n        <template slot-scope=\"scope\">\n          {{ getquotationSupState(scope.row.state) }}\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"操作\" align=\"center\" width=\"120\">\n        <template slot-scope=\"scope\">\n          <el-button-group>\n            <el-button v-if=\"scope.row.fillMode===2 && scope.row.state>0\" type=\"success\" plain size=\"small\" icon=\"el-icon-edit\" style=\"padding:6px;\" title=\"填报\" @click=\"fill(scope)\" />\n            <el-button v-if=\"scope.row.state<2\" type=\"primary\" plain size=\"small\" icon=\"el-icon-delete\" style=\"padding:6px;\" title=\"删除\" @click=\"del(scope.row)\" />\n          </el-button-group>\n        </template>\n      </el-table-column>\n\n      <!-- <el-table-column label=\"操作\" fixed=\"right\" align=\"center\" width=\"80\">\n        <template slot-scope=\"scope\">\n          <el-button-group>\n            <el-button type=\"primary\" plain size=\"small\" icon=\"el-icon-edit\" style=\"padding:6px;\" title=\"编辑\" @click=\"edit(scope)\" />\n            <el-button type=\"primary\" plain size=\"small\" icon=\"el-icon-delete\" style=\"padding:6px;\" title=\"删除\" @click=\"del(scope)\" />\n          </el-button-group>\n        </template>\n      </el-table-column> -->\n    </el-table>\n  </div>\n  <div v-if=\"dialogTableVisible\">\n    <el-dialog\n      :title=\"dialogTitle\"\n      :destroy-on-close=\"true\"\n      :visible.sync=\"dialogTableVisible\"\n      :width=\"dialogWidth\"\n      :append-to-body=\"false\"\n    >\n      <component :is=\"comName\" :obj=\"currentRow\" :is-preview=\"true\" :file-list=\"fileList\" @dialogClose=\"dialogClose\" />\n    </el-dialog>\n  </div>\n</div>\n",null]}