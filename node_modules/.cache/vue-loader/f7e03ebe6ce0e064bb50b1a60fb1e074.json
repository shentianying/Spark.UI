{"remainingRequest":"D:\\Projects\\spark\\Spark.UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projects\\spark\\Spark.UI\\src\\components\\SelectDialog\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Projects\\spark\\Spark.UI\\src\\components\\SelectDialog\\index.vue","mtime":1635844823957},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport Select from '@/components/SearchBar/form/Select'\r\nimport Dialog from './Dialog'\r\nexport default {\r\n  name: 'SelectDialog',\r\n  components: { Dialog, Select },\r\n  model: { event: 'change', prop: 'value' },\r\n\r\n  props: {\r\n    multiple: { type: Boolean, default: false }, // 默认单选\r\n    propsValue: { type: String, default: 'id' }, // 与props.value作用相同，但优先于其\r\n    propsLabel: { type: String, default: 'name' }, // 与props.value作用相同，但优先于其\r\n    tableColumn: { // 表格渲染的列\r\n      type: Array,\r\n      default() {\r\n        return [\r\n          // { prop: 'number', label: '编号', minWidth: '130' },\r\n          // { prop: 'name', label: '单位名称', minWidth: '90' },\r\n          // { prop: 'corporation', label: '法定代表人', minWidth: '120' }\r\n        ]\r\n      }\r\n    },\r\n    request: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          // fn: async(postData) => {\r\n          //     const res = await GetSubcontractorList(postData)\r\n          //     // to do 获取一些需要的数据\r\n          //     if(!this.init){\r\n          //       this.list = options\r\n          //       this.init=true\r\n          //     }\r\n          //     return res\r\n          //   },\r\n          //   params: [\r\n          //     { name: 'type', label: '分包类型', component: Select, props: { propsLabel: 'name', options: (res) => res.subcontractorTypeList }},\r\n          //     { name: 'name', label: '名称或编号', component: 'ElInput' }\r\n          //   ]\r\n        }\r\n      }\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: '选择'\r\n    },\r\n    size: {\r\n      type: String,\r\n      default: 'mini'\r\n    },\r\n    value: {\r\n      type: [Array, String, Number],\r\n      default: ''\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      list: [],\r\n      loading: false,\r\n      curr: {}\r\n    }\r\n  },\r\n  computed: {\r\n    opLabel() {\r\n      return this.propsLabel || this.props.label\r\n    },\r\n    opValue() {\r\n      return this.propsValue || this.props.value\r\n    },\r\n    inputVal: {\r\n      set(val) {\r\n        this.$emit('change', val)\r\n        this.$emit('input', val)\r\n      },\r\n      get() {\r\n        return this.value\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n  },\r\n  methods: {\r\n    fetchData() {\r\n      const { fn, params } = this.request\r\n      return {\r\n        fn: async(postData) => {\r\n          this.loading = true\r\n          const res = await fn(postData)\r\n          // to do 获取一些需要的数据\r\n          if (!this.init) {\r\n            this.list = res.data\r\n            this.init = true\r\n          }\r\n          this.loading = false\r\n          return res\r\n        },\r\n        params\r\n      }\r\n    },\r\n    save(val) {\r\n      this.curr = val\r\n      this.$emit('select', val)\r\n    },\r\n    openDialog() {\r\n      this.$refs.select.blur()\r\n      this.$refs.personRef.openDialog()\r\n    }\r\n  }\r\n}\r\n",null]}