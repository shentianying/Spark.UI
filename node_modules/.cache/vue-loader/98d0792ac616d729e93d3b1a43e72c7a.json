{"remainingRequest":"D:\\Projects\\spark\\Spark.UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projects\\spark\\Spark.UI\\src\\views\\cggl\\mbcb\\targetCostEdit.vue?vue&type=template&id=d470b892&scoped=true&","dependencies":[{"path":"D:\\Projects\\spark\\Spark.UI\\src\\views\\cggl\\mbcb\\targetCostEdit.vue","mtime":1632015294596},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"app-container\">\n  <div>\n    <el-steps :active=\"active\" finish-status=\"success\" align-center>\n      <el-step title=\"填写单据\" icon=\"el-icon-edit\" />\n      <el-step title=\"填写或导入材料\" icon=\"el-icon-upload2\" />\n      <el-step title=\"确认流程\" icon=\"el-icon-refresh\" />\n    </el-steps>\n  </div>\n  <el-form\n    ref=\"ruleForm\"\n    status-icon\n    :model=\"ruleForm\"\n    :rules=\"rules\"\n    label-width=\"120px\"\n    class=\"\"\n    size=\"mini\"\n  >\n    <el-row :gutter=\"10\">\n      <el-col :sm=\"12\" :xs=\"24\">\n        <el-form-item label=\"编号\" prop=\"number\">\n          <el-input v-model=\"ruleForm.number\" readonly=\"readonly\" placeholder=\"自动生成\" size=\"mini\" maxlength=\"50\" />\n        </el-form-item>\n\n        <!-- <el-form-item v-if=\"active === 0\" label=\"项目\" prop=\"orgId\">\n          <org-select2\n            :key=\"keyOrg\"\n            v-model=\"ruleForm.orgId\"\n            :data-mode=\"0\"\n            size=\"mini\"\n            :collapse-tags=\"false\"\n            :show-all-levels=\"true\"\n            :multiple=\"false\"\n            :check-strictly=\"false\"\n            :select-data=\"ruleForm.orgId\"\n            select-style=\"width:100%;\"\n          />\n        </el-form-item> -->\n        <el-form-item label=\"项目\" prop=\"orgId\">\n          <org-select2\n            :key=\"keyOrg\"\n            v-model=\"ruleForm.orgId\"\n            :disabled=\"disabled\"\n            :data-mode=\"0\"\n            size=\"mini\"\n            :collapse-tags=\"false\"\n            :show-all-levels=\"true\"\n            :multiple=\"false\"\n            :filterable=\"true\"\n            :check-strictly=\"false\"\n            :select-data=\"ruleForm.orgId\"\n            select-style=\"width:100%;\"\n          />\n        </el-form-item>\n      </el-col>\n\n      <el-col :sm=\"12\" :xs=\"24\">\n        <el-form-item label=\"备注\" prop=\"remark\">\n          <el-input v-model=\"ruleForm.remark\" type=\"textarea\" :rows=\"3\" size=\"mini\" maxlength=\"500\" />\n        </el-form-item>\n      </el-col>\n    </el-row>\n  </el-form>\n  <div v-show=\"active !== 0\">\n    <!-- 材料分类数据 -->\n    <div class=\"flex_div\">\n      <excel-export style=\"margin-right:10px;\" book-type=\"xlsx\" filename=\"材料导入模板\" :sheet=\"sheet\" :on-error=\"onError\">\n        <el-button :loading=\"loading\" icon=\"el-icon-download\" size=\"mini\">下载模板</el-button>\n      </excel-export>\n      <excel-import style=\"margin-right:10px;\" :on-success=\"onSuccess\" :on-error=\"onErrorImport\">\n        <el-button :loading=\"loading\" icon=\"el-icon-upload2\" size=\"mini\">导入材料</el-button>\n      </excel-import>\n      <el-button :loading=\"loading\" icon=\"el-icon-circle-plus-outline\" size=\"mini\" @click=\"add()\">添加材料</el-button>\n\n    </div>\n    <el-table\n      v-loading=\"loading\"\n      :data=\"list\"\n      element-loading-text=\"Loading\"\n      border\n      fit\n      highlight-current-row\n      size=\"mini\"\n    >\n      <el-table-column type=\"index\" width=\"55\" align=\"center\" />\n      <el-table-column label=\"材料名称\" align=\"center\" min-width=\"100\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.category.name }}\n        </template>\n      </el-table-column>\n      <el-table-column v-if=\"columnShow.brand\" label=\"品牌/产地\" align=\"center\" width=\"80\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.brand }}\n        </template>\n      </el-table-column>\n      <el-table-column v-if=\"columnShow.model\" label=\"型号\" align=\"center\" width=\"80\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.model }}\n        </template>\n      </el-table-column>\n      <el-table-column v-if=\"columnShow.spec\" label=\"规格/尺寸\" align=\"center\" width=\"100\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.spec }}\n        </template>\n      </el-table-column>\n      <el-table-column v-if=\"columnShow.thickness\" label=\"厚度\" align=\"center\" width=\"80\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.thickness }}\n        </template>\n      </el-table-column>\n      <el-table-column v-if=\"columnShow.texture\" label=\"材质\" align=\"center\" width=\"100\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.texture }}\n        </template>\n      </el-table-column>\n      <el-table-column v-if=\"columnShow.surfaceTreatment\" label=\"表面处理/工艺、色号\" align=\"center\" width=\"200\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.surfaceTreatment }}\n        </template>\n      </el-table-column>\n      <el-table-column v-if=\"columnShow.designNumber\" label=\"设计编号\" align=\"center\" width=\"100\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.designNumber }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"主单位\" align=\"center\" width=\"60\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.unit }}\n        </template>\n      </el-table-column>\n      <el-table-column v-if=\"columnShow.unit2\" label=\"辅单位\" align=\"center\" width=\"60\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.unit2 }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"数量\" align=\"center\" width=\"60\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.targetCostQuantity }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"单价\" align=\"center\" width=\"60\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.targetCostPrice }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"总金额\" align=\"center\" width=\"60\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.targetCostAmount }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"备注\" align=\"center\" min-width=\"200\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.remark }}\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"操作\" align=\"center\" width=\"80\">\n        <template slot-scope=\"scope\">\n          <el-button-group>\n            <el-button type=\"primary\" plain size=\"small\" icon=\"el-icon-edit\" style=\"padding:6px;\" title=\"编辑\" @click=\"edit(scope)\" />\n            <el-button type=\"primary\" plain size=\"small\" icon=\"el-icon-delete\" style=\"padding:6px;\" title=\"删除\" @click=\"del(scope)\" />\n          </el-button-group>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n  <div v-if=\"dialogTableVisible\">\n    <el-dialog\n      :title=\"dialogTitle\"\n      :destroy-on-close=\"true\"\n      :visible.sync=\"dialogTableVisible\"\n      :width=\"dialogWidth\"\n      :append-to-body=\"false\"\n    >\n      <component :is=\"comName\" :obj=\"currentRow\" :is-preview=\"true\" :file-list=\"fileList\" @dialogClose=\"dialogClose\" />\n    </el-dialog>\n  </div>\n  <!--流程显示-->\n  <flow-select v-show=\"active > 1\" v-if=\"billFlow\" ref=\"flowSelect\" :bill-flow=\"billFlow\" />\n  <div style=\"text-align:center;margin-top:10px;\">\n    <el-button v-show=\"active !== 0\" v-if=\"ruleForm.state === 0\" size=\"mini\" type=\"info\" :loading=\"loading\" @click=\"previous()\"><i class=\"el-icon-back el-icon--left\" />上一步</el-button>\n    <el-button v-show=\"active === 0\" size=\"mini\" type=\"success\" :loading=\"loading\" @click=\"getDynamicFlow('')\">下一步<i class=\"el-icon-right el-icon--right\" /></el-button>\n    <el-button v-show=\"active === 1\" size=\"mini\" type=\"success\" :loading=\"loading\" @click=\"getDynamicFlow('ruleForm')\">下一步<i class=\"el-icon-right el-icon--right\" /></el-button>\n    <el-button v-show=\"active > 1\" v-if=\"ruleForm.id>0 && ruleForm.state === 0\" size=\"mini\" type=\"warning\" :loading=\"loading\" @click=\"cancel()\">作废</el-button>\n    <el-button v-show=\"active > 1\" v-if=\"ruleForm.id>0 && ruleForm.state === 0\" size=\"mini\" type=\"primary\" :loading=\"loading\" @click=\"submitForm('ruleForm',1)\">提交</el-button>\n    <el-button v-show=\"active > 1\" v-if=\"ruleForm.state === 0\" size=\"mini\" type=\"success\" :loading=\"loading\" @click=\"submitForm('ruleForm',0)\">保存</el-button>\n  </div>\n  <!-- <div><flow-attitude v-if=\"loadFlow\" ref=\"flowAttitude\" :show=\"false\" :para=\"attitudePara\" /></div> -->\n</div>\n",null]}