{"remainingRequest":"D:\\Projects\\spark\\Spark.UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projects\\spark\\Spark.UI\\src\\views\\cggl\\paid\\paidAttitude.vue?vue&type=template&id=ce1e2266&scoped=true&","dependencies":[{"path":"D:\\Projects\\spark\\Spark.UI\\src\\views\\cggl\\paid\\paidAttitude.vue","mtime":1634781212949},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"app-container\">\n  <el-form\n    ref=\"ruleForm\"\n    status-icon\n    :model=\"ruleForm\"\n    :rules=\"rules\"\n    label-width=\"120px\"\n    class=\"\"\n    size=\"mini\"\n  >\n    <el-row :gutter=\"10\">\n      <el-col :sm=\"12\" :xs=\"24\">\n        <el-form-item label=\"采购付款编号\">\n          {{ ruleForm.number }}\n          <!-- <el-input v-model=\"ruleForm.number\" readonly=\"readonly\" placeholder=\"自动生成\" size=\"mini\" maxlength=\"50\" /> -->\n        </el-form-item>\n        <el-form-item label=\"合同编号\">\n          <!-- <el-input v-model=\"ruleForm.contract.number\" :disabled=\"true\" placeholder=\"请选择\" size=\"mini\" maxlength=\"50\">\n            <el-button slot=\"append\" :disabled=\"disabled\" icon=\"el-icon-search\" @click=\"checkContract()\" />\n          </el-input> -->\n          <el-link :underline=\"false\" @click=\"openContract(ruleForm.contractId)\">{{ ruleForm.contract.number }}</el-link>\n        </el-form-item>\n        <el-form-item label=\"入库金额\">\n          {{ utils.formatMoney(ruleForm.storageAmount,2,0) }}\n        </el-form-item>\n        <el-form-item label=\"应付金额\">\n          {{ utils.formatMoney(ruleForm.dues,2,0) }}\n        </el-form-item>\n        <el-form-item label=\"已付金额\">\n          {{ utils.formatMoney(ruleForm.paid,2,0) }}\n        </el-form-item>\n        <el-form-item label=\"支付金额\">\n          <label v-if=\"isPaid===false||ruleForm.capitalType===2||ruleForm.capitalType===3\">{{ utils.formatMoney(ruleForm.amount,2,0) }}</label>\n          <el-input-number v-if=\"isPaid===true&&ruleForm.capitalType!==2&&ruleForm.capitalType!==3\" v-model=\"ruleForm.amount\" controls-position=\"right\" size=\"mini\" :step=\"0.0001\" :min=\"0\" :max=\"ruleForm.attitudeAmount\" />\n        </el-form-item>\n        <el-form-item label=\"附件\">\n          <up-file key=\"fileListKey\" v-model=\"ruleForm.fileList\" :is-preview=\"true\" :is-upfile=\"false\" :is-delete=\"false\" :file-list=\"ruleForm.fileList\" />\n        </el-form-item>\n        <el-form-item label=\"创建人\">\n          {{ ruleForm.createUserName }}\n        </el-form-item>\n        <el-form-item label=\"提交人\">\n          {{ ruleForm.submitUserName }}\n        </el-form-item>\n        <el-form-item label=\"最后修改人\">\n          {{ ruleForm.lastEditUserName }}\n        </el-form-item>\n      </el-col>\n      <el-col :sm=\"12\" :xs=\"24\">\n        <el-form-item label=\"项目\">\n          {{ orgStr }}\n        </el-form-item>\n        <el-form-item label=\"发票金额\">\n          {{ utils.formatMoney(ruleForm.invoice,2,0) }}\n        </el-form-item>\n        <el-form-item label=\"支付比例\">\n          {{ ruleForm.payScale }}%\n        </el-form-item>\n        <el-form-item label=\"申请金额\">\n          {{ utils.formatMoney(ruleForm.applyAmount,2,0) }}\n        </el-form-item>\n        <el-form-item label=\"审批金额\" prop=\"attitudeAmount\">\n          <!-- {{ utils.formatMoney(ruleForm.attitudeAmount,2,0) }} -->\n          <label v-if=\"isPaid===true||ruleForm.state===10000\">{{ utils.formatMoney(ruleForm.attitudeAmount,2,0) }}</label>\n          <el-input-number v-else v-model=\"ruleForm.attitudeAmount\" size=\"mini\" :step=\"0.0001\" :min=\"0\" :max=\"ruleForm.dues-ruleForm.paid\" />\n        </el-form-item>\n        <el-form-item label=\"总支付金额\">\n          {{ utils.formatMoney(ruleForm.sumAmount,2,0) }}\n        </el-form-item>\n        <el-form-item label=\"资金形式\">\n          <label v-if=\"ruleForm.state===10000||(ruleForm.state===1000&&isPaid===false)\">{{ getPayModeName(ruleForm.capitalType) }}</label>\n          <org-select2\n            v-else\n            :key=\"keyPayMode\"\n            v-model=\"ruleForm.capitalType\"\n            size=\"mini\"\n            :collapse-tags=\"false\"\n            props-value=\"value\"\n            :show-all-levels=\"false\"\n            :multiple=\"false\"\n            :filterable=\"true\"\n            :options=\"payModeOptions\"\n          />\n        </el-form-item>\n        <!-- <el-form-item label=\" \">\n          &nbsp;\n        </el-form-item> -->\n        <el-form-item label=\"创建日期\">\n          {{ ruleForm.createDate }}\n        </el-form-item>\n        <el-form-item label=\"提交日期\">\n          {{ ruleForm.submitDate }}\n        </el-form-item>\n        <el-form-item label=\"最后修改日期\">\n          {{ ruleForm.lastEditDate }}\n        </el-form-item>\n      </el-col>\n    </el-row>\n  </el-form>\n  <div v-if=\"isPaid===true && (ruleForm.capitalType===2 || ruleForm.capitalType===3)\">\n    <div class=\"flex_div\">\n      <el-button :loading=\"loading\" size=\"mini\" @click=\"checkAcceptance()\">选择承兑</el-button>\n    </div>\n    <el-table\n      v-loading=\"loading\"\n      :data=\"acceptanceList\"\n      border\n      highlight-current-row\n      size=\"mini\"\n      @row-dblclick=\"openAcceptance\"\n    >\n      <el-table-column type=\"index\" width=\"55\" align=\"center\" />\n      <el-table-column label=\"票号\" min-width=\"10\">\n        <template slot-scope=\"scope\">\n          <el-link :underline=\"false\" size=\"mini\" style=\"font-size: 12px;\" @click=\"openAcceptance(scope.row)\">{{ scope.row.ticketNumber }}</el-link>\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"收款部门\" min-width=\"10\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.orgName }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"类型\" min-width=\"10\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.capitalType }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"开票日期\" min-width=\"10\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.ticketDate | dateFormat }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"到期日期\" min-width=\"10\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.expiration | dateFormat }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"付款人\" min-width=\"10\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.payer }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"收款银行\" min-width=\"10\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.bank }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"金额\" min-width=\"10\">\n        <template slot-scope=\"scope\">\n          {{ utils.formatMoney(scope.row.amount,2,0) }}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"备注\" min-width=\"10\">\n        <template slot-scope=\"scope\">\n          <el-popover trigger=\"hover\" :content=\"scope.row.remark\" placement=\"top\">\n            <span slot=\"reference\" class=\"ellipsis-2\">{{ scope.row.remark }}</span>\n          </el-popover>\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"状态\" min-width=\"10\">\n        <template slot-scope=\"scope\">\n          <div class=\"state\">\n            <div :class=\"{circle:true,success:scope.row.state===1}\" />\n            {{ scope.row.stateName }}\n          </div>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n  <!-- <el-table\n    v-loading=\"loading\"\n    :data=\"payModes\"\n    element-loading-text=\"Loading\"\n    border\n    fit\n    highlight-current-row\n    size=\"mini\"\n    style=\"margin-top:20px\"\n    :summary-method=\"getSummaries\"\n    show-summary\n  >\n    <el-table-column label=\"付款方式\" align=\"center\" min-width=\"100\">\n      <template slot-scope=\"scope\">\n        {{ getPayModeName(scope.row.payMode) }}\n      </template>\n    </el-table-column>\n    <el-table-column label=\"申请金额\" header-align=\"center\" align=\"right\" min-width=\"80\">\n      <template slot-scope=\"scope\">\n        {{ utils.formatMoney(scope.row.applyAmount,2,3) }}\n      </template>\n    </el-table-column>\n    <el-table-column label=\"审批金额\" header-align=\"center\" prop=\"attitudeAmount\" align=\"right\" min-width=\"150\">\n      <template slot-scope=\"scope\">\n        <el-input v-if=\"ruleForm.state<99\" v-model=\"scope.row.attitudeAmount\" :disabled=\"isPaid\" size=\"mini\" />\n        <label v-if=\"ruleForm.state>=99\">{{ utils.formatMoney(scope.row.attitudeAmount,2,3) }}</label>\n      </template>\n    </el-table-column>\n    <el-table-column v-if=\"isPaid===true\" label=\"支付金额\" header-align=\"center\" align=\"right\" min-width=\"80\">\n      <template slot-scope=\"scope\">\n        <el-link :underline=\"false\" size=\"mini\" style=\"font-size: 12px;\" @click=\"openAcceptance(scope.row)\">{{ utils.formatMoney(scope.row.paid) }}</el-link>\n      </template>\n    </el-table-column>\n    <el-table-column label=\"备注\" align=\"center\" min-width=\"200\">\n      <template slot-scope=\"scope\">\n        <el-input v-if=\"ruleForm.state<99\" v-model=\"scope.row.remark\" placeholder=\"请输入\" size=\"mini\" maxlength=\"200\" />\n        <label v-if=\"ruleForm.state>=99\">{{ scope.row.remark }}</label>\n      </template>\n    </el-table-column>\n    <el-table-column v-if=\"isPaid===true\" label=\"操作\" align=\"center\" min-width=\"200\">\n      <template slot-scope=\"scope\">\n        <el-button v-if=\"scope.row.payMode===2 || scope.row.payMode===3\" type=\"primary\" size=\"mini\" @click=\"checkAcceptance(scope.row)\">选择承兑</el-button>\n      </template>\n    </el-table-column>\n  </el-table> -->\n\n  <!--流程信息-->\n  <flow-display v-if=\"billFlow\" ref=\"flowSelect\" :is-edit=\"true\" :bill-flow=\"billFlow\" />\n\n  <flow-attitude\n    v-if=\"isLoad\"\n    ref=\"flowAttitude\"\n    :show=\"true\"\n    :para=\"attitudePara\"\n    @update=\"updateFlow\"\n  >\n    <template #saveBtn>\n      <!--当前审批人拥有支付的操作-->\n      <!-- <el-button v-if=\"showPayButton\" size=\"mini\" type=\"success\">特殊操作，支付</el-button> -->\n      <!--调用单据中controller操作-->\n      <el-button v-show=\"!isPaid\" size=\"mini\" type=\"success\" :loading=\"loading\" @click=\"save()\">保存</el-button>\n    </template>\n    <template #otherBtn>\n      <!-- <el-button size=\"mini\" type=\"der\">测试其他插槽</el-button> -->\n      <el-button v-show=\"isPaid\" type=\"primary\" size=\"mini\" @click=\"wantToPay()\">确认支付</el-button>\n    </template>\n  </flow-attitude>\n\n  <div v-if=\"dialogTableVisible\">\n    <el-dialog\n      :title=\"dialogTitle\"\n      :destroy-on-close=\"true\"\n      :visible.sync=\"dialogTableVisible\"\n      :width=\"dialogWidth\"\n      :append-to-body=\"false\"\n    >\n      <component :is=\"comName\" :obj=\"currentRow\" :is-preview=\"true\" fullscreen=\"fullscreen\" @dialogClose=\"dialogClose\" />\n    </el-dialog>\n  </div>\n</div>\n",null]}