{"remainingRequest":"D:\\Projects\\spark\\Spark.UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projects\\spark\\Spark.UI\\src\\views\\fbgl\\fbdwgl\\SubcontractPeople\\details.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Projects\\spark\\Spark.UI\\src\\views\\fbgl\\fbdwgl\\SubcontractPeople\\details.vue","mtime":1635749455641},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\spark\\Spark.UI\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport Detailsedit from '@/components/Detailsedit'\r\nimport { GetSubcontractPeopleById } from '@/api/fbgl/subcontractPeople'\r\n\r\nexport default {\r\n  name: 'SubcontractPeopleDetails',\r\n  components: {\r\n    Detailsedit\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false, // 请求未完成\r\n      myDetails: null // 详情数据\r\n    }\r\n  },\r\n  computed: {\r\n    infoList() {\r\n      const {\r\n        myDetails: {\r\n          orgStr,\r\n          typeName,\r\n          data: {\r\n            name,\r\n            idNumber,\r\n            address,\r\n            tel,\r\n            phone,\r\n            fax,\r\n            email,\r\n            isForbidden,\r\n            remark,\r\n            upFile,\r\n            createUserName,\r\n            createDate,\r\n            lastEditUserName,\r\n            lastEditDate\r\n          }\r\n        }\r\n      } = this\r\n      return [\r\n        { label: '分包人姓名', value: name },\r\n        { label: '身份证号', value: idNumber },\r\n        { label: '部门', value: orgStr },\r\n        { label: '地址', value: address },\r\n        { label: '电话', value: tel },\r\n        { label: '手机', value: phone },\r\n        { label: '传真', value: fax },\r\n        { label: 'Email', value: email },\r\n        { label: '类型', value: typeName },\r\n        { label: '是否禁用', value: isForbidden ? '是' : '否' },\r\n        { label: '备注', monopolize: true, value: remark },\r\n        { label: '附件', monopolize: true, component: 'UpFile', value: upFile || [] },\r\n        { label: '制单人', value: createUserName },\r\n        { label: '制单时间', value: createDate },\r\n        { label: '更新人', value: lastEditUserName },\r\n        { label: '更新时间', value: lastEditDate }\r\n      ]\r\n    }\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    next(vm => {\r\n      vm.initData()\r\n    })\r\n  },\r\n  methods: {\r\n    /**\r\n     * @description: 初始化数据\r\n     */\r\n    initData() {\r\n      const { id } = this.$route.query\r\n      this.myId = id\r\n      this.fetchData()\r\n    },\r\n    async fetchData() {\r\n      if (!this.myId) return\r\n      this.loading = true\r\n      const res = await GetSubcontractPeopleById({ id: this.myId })\r\n      this.myDetails = res\r\n      this.loading = false\r\n    }\r\n  }\r\n}\r\n",null]}